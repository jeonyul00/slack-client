"use strict";(self.webpackChunkslack_client=self.webpackChunkslack_client||[]).push([[13],{2309:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(7294),a=n(9369),i=n(5802),o=(0,a.Z)("div",{target:"erzxp2r5"})({name:"ra6cyy",styles:"display:flex;width:100%;padding:20px;padding-top:0"}),l=(0,a.Z)("form",{target:"erzxp2r4"})({name:"33ihw2",styles:"color:rgb(29, 28, 29);font-size:15px;width:100%;border-radius:4px;border:1px solid rgb(29, 28, 29)"}),c=(0,a.Z)(i.r,{target:"erzxp2r3"})({name:"bka2jr",styles:"font-family:Slack-Lato,appleLogo,sans-serif;font-size:15px;padding:8px 9px;width:100%;& strong{background:skyblue;}& textarea{height:44px;padding:9px 10px!important;outline:none!important;border-radius:4px!important;resize:none!important;line-height:22px;border:none;}& ul{border:1px solid lightgray;max-height:200px;overflow-y:auto;padding:9px 10px;background:white;border-radius:4px;width:150px;}"}),u=(0,a.Z)("div",{target:"erzxp2r2"})({name:"13ie2qx",styles:"position:relative;background:rgb(248, 248, 248);height:41px;display:flex;border-top:1px solid rgb(221, 221, 221);align-items:center;border-bottom-left-radius:4px;border-bottom-right-radius:4px"}),s=(0,a.Z)("button",{target:"erzxp2r1"})({name:"xrrdm2",styles:"position:absolute;right:5px;top:5px"}),p=(0,a.Z)("button",{target:"erzxp2r0"})("padding:4px 20px;background:transparent;border:none;display:flex;align-items:center;color:rgb(28, 29, 28);width:100%;& img{margin-right:5px;}",(function(e){return e.focus&&"\n    background: #1264a3;\n    color: white;\n  "}),";"),d=n(3682),m=n(9250),f=n(3564),g=n(5591),x=n(6182),b=n.n(x),h=function(e){var t=e.chat,n=e.onSubmitForm,a=e.onChangeChat,x=e.placeholder,h=(0,m.UO)().workspace,y=(0,g.ZP)("/api/users",f.Z).data,v=(0,g.ZP)(y?"/api/workspaces/".concat(h,"/members"):null,f.Z).data,k=(0,r.useRef)(null);(0,r.useEffect)((function(){k.current&&(0,d.Z)(k.current)}),[]);var w=(0,r.useCallback)((function(e){"Enter"===e.key&&!1===e.shiftKey&&n(e)}),[n]),E=(0,r.useCallback)((function(e,t,n,a,i){if(v)return r.createElement(p,{focus:i},r.createElement("img",{src:b().url(v[a].email,{s:"20px",d:"retro"}),alt:v[a].nickname}),r.createElement("span",null,n))}),[v]);return r.createElement(o,null,r.createElement(l,{onSubmit:n},r.createElement(c,{id:"editor-chat",value:t,onChange:a,onKeyDown:w,placeholder:x,inputRef:k,allowSuggestionsAboveCursor:!0},r.createElement(i.p,{appendSpaceOnAdd:!0,trigger:"@",data:(null==v?void 0:v.map((function(e){return{id:e.id,display:e.nickname}})))||[],renderSuggestion:E})),r.createElement(u,null,r.createElement(s,{className:"c-button-unstyled c-icon_button c-icon_button--light c-icon_button--size_medium c-texty_input__button c-texty_input__button--send"+(null!=t&&t.trim()?"":" c-texty_input__button--disabled"),"data-qa":"texty_send_button","aria-label":"Send message","data-sk":"tooltip_parent",type:"submit",disabled:!(null!=t&&t.trim())},r.createElement("i",{className:"c-icon c-icon--paperplane-filled","aria-hidden":"true"})))))}},2545:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(9369),a=(0,r.Z)("div",{target:"e1r2d00b0"})({name:"2yhi1c",styles:"display:flex;padding:8px 20px;&:hover{background:#eee;}& .chat-img{display:flex;width:36px;margin-right:8px;& img{width:36px;height:36px;}}& .chat-text{display:flex;flex-wrap:wrap;flex:1;& p{flex:0 0 100%;margin:0;}}& .chat-user{display:flex;flex:0 0 100%;align-items:center;&>b{margin-right:5px;}&>span{font-size:12px;}}& a{text-decoration:none;color:deepskyblue;}"}),i=n(7484),o=n.n(i),l=n(6182),c=n.n(l),u=n(7294),s=n(9250),p=n(9655),d=n(8817),m=(0,u.memo)((function(e){var t=e.data,n="Sender"in t?t.Sender:t.User,r=(0,s.UO)().workspace,i=(0,u.useMemo)((function(){return(0,d.Z)({input:t.content,pattern:/@\[(.+?)]\((\d+?)\)|\n/g,decorator:function(e,t){var n=e.match(/@\[(.+?)]\((\d+?)\)/);return n?u.createElement(p.rU,{key:e+t,to:"/workspace/".concat(r,"/dm/").concat(n[2])},"@",n[1]):u.createElement("br",{key:t})}})}),[t.content,r]);return u.createElement(a,null,u.createElement("div",{className:"chat-img"},u.createElement("img",{src:c().url(n.email,{s:"36px",d:"retro"}),alt:n.nickname})),u.createElement("div",{className:"chat-text"},u.createElement("div",{className:"chat-user"},u.createElement("b",null,n.nickname),u.createElement("span",null,o()(t.createdAt).format("h:mm A"))),u.createElement("p",null,i)))})),f=(0,u.memo)(m),g=(0,r.Z)("div",{target:"ewje5sq2"})({name:"1op36e9",styles:"width:100%;display:flex;flex:1"}),x=(0,r.Z)("section",{target:"ewje5sq1"})({name:"10zp55f",styles:"margin-top:20px;border-top:1px solid #eee"}),b=(0,r.Z)("div",{target:"ewje5sq0"})({name:"16cu5ak",styles:"display:flex;justify-content:center;flex:1;width:100%;position:sticky;top:14px;& button{font-weight:bold;font-size:13px;height:28px;line-height:27px;padding:0 16px;z-index:2;--saf-0:rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);box-shadow:0 0 0 1px var(--saf-0),0 1px 3px 0 rgba(0, 0, 0, 0.08);border-radius:24px;position:relative;top:-13px;background:white;border:none;outline:none;}"}),h=n(6658);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,u.forwardRef)((function(e,t){var n=e.chatSections,r=e.setSize,a=e.isReachingEnd,i=(0,u.useCallback)((function(e){0!==e.scrollTop||a||r((function(e){return e+1})).then((function(){var n=null==t?void 0:t.current;n&&n.scrollTop(n.getScrollHeight()-e.scrollHeight)}))}),[t,a,r]);return u.createElement(g,null,u.createElement(h.$B,{autoHide:!0,ref:t,onScrollFrame:i},Object.entries(n).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1];return u.createElement(x,{className:"section-".concat(a),key:a},u.createElement(b,null,u.createElement("button",null,a)),i.map((function(e){return u.createElement(f,{key:e.id,data:e})})))}))))}))},8667:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(7484),a=n.n(r);function i(e){var t={};return e.forEach((function(e){var n=a()(e.createdAt).format("YYYY-MM-DD");Array.isArray(t[n])?t[n].push(e):t[n]=[e]})),t}}}]);